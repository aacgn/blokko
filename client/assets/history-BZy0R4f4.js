import{q as R,j as P,m as _,s as y,B as j,t as B,C as L,w as $,x as D}from"./ActivitiesContex-BoMGjC-E.js";import{n as s,r as b}from"./chunk-IR6S3I6Y-B-FaP476.js";import{C as E,G as I,B as U}from"./Container-CJm8Icfc.js";import{T as c}from"./Text-BLx0pHd9.js";import{C as k}from"./Card-Cf6ssw76.js";import"./create-safe-context-Cm2rZqCq.js";var v={root:"m_849cf0da"};const z={underline:"hover"},i=R((n,o)=>{const{underline:r,className:t,unstyled:a,mod:e,...l}=P("Anchor",z,n);return s.jsx(c,{component:"a",ref:o,className:_({[v.root]:!a},t),...l,mod:[{underline:r},e],__staticSelector:"Anchor",unstyled:a})});i.classes=v;i.displayName="@mantine/core/Anchor";var w={root:"m_9e117634"};const G={},O=B((n,{radius:o,fit:r})=>({root:{"--image-radius":o===void 0?void 0:L(o),"--image-object-fit":r}})),p=R((n,o)=>{const r=P("Image",G,n),{classNames:t,className:a,style:e,styles:l,unstyled:A,vars:C,onError:m,src:d,radius:T,fit:q,fallbackSrc:u,mod:f,...h}=r,[N,x]=b.useState(!d);b.useEffect(()=>x(!d),[d]);const g=y({name:"Image",classes:w,props:r,className:a,style:e,classNames:t,styles:l,unstyled:A,vars:C,varsResolver:O});return N&&u?s.jsx(j,{component:"img",ref:o,src:u,...g("root"),onError:m,mod:["fallback",f],...h}):s.jsx(j,{component:"img",ref:o,...g("root"),src:d,onError:S=>{m==null||m(S),x(!0)},mod:f,...h})});p.classes=w;p.displayName="@mantine/core/Image";const M=$(function(){const{activities:o,updateActivity:r}=D(),t=o.filter(e=>e.status==="concluded"),a=e=>{r(e,{status:"pending",statusDate:void 0,proof:void 0})};return s.jsx(E,{size:"sm",py:"xl",children:t.length===0?s.jsx(c,{c:"dimmed",ta:"center",children:"Nenhuma atividade concluÃ­da no momento."}):t.map(e=>s.jsxs(k,{shadow:"sm",padding:"lg",mb:"md",children:[s.jsx(c,{size:"lg",fw:500,mb:"sm",children:e.name}),s.jsxs(c,{c:"dimmed",mb:"sm",children:["ConcluÃ­da em: ",new Date(e.statusDate).toLocaleDateString()]}),e.proof&&s.jsxs(I,{mb:"sm",children:[s.jsx(c,{fw:500,children:"Prova Anexada:"}),s.jsx(i,{href:URL.createObjectURL(e.proof),download:`prova_${e.name}.${e.proof.type.split("/")[1]}`,children:"Baixar Prova"})]}),e.proof&&e.proof.type.startsWith("image/")&&s.jsx(p,{src:URL.createObjectURL(e.proof),alt:`Prova de ${e.name}`,w:200,h:150,fit:"contain",mb:"sm"}),s.jsx(U,{variant:"outline",color:"red",onClick:()=>a(e.id),children:"Reverter para Pendente"})]},e.id))})});export{M as default};
