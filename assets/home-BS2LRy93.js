import{j as w,i as $,w as q,x as H}from"./ActivitiesContex-BoMGjC-E.js";import{r as d,n as e}from"./chunk-IR6S3I6Y-B-FaP476.js";import{C as _,G as J,B as K}from"./Container-CJm8Icfc.js";import{T as L}from"./Text-BLx0pHd9.js";import{u as Q,C as W,I as B,a as X,T as Y}from"./Title-CRZONZLd.js";import{a as Z,b as N,u as ee}from"./use-uncontrolled-kZRlGaLa.js";import"./use-isomorphic-effect-Cdi6Bh97.js";const te={multiple:!1},T=d.forwardRef((t,a)=>{const{onChange:n,children:s,multiple:c,accept:r,name:p,form:o,resetRef:m,disabled:x,capture:g,inputProps:j,...v}=w("FileButton",te,t),u=d.useRef(null),C=()=>{var i;!x&&((i=u.current)==null||i.click())},f=i=>{n(c?Array.from(i.currentTarget.files):i.currentTarget.files[0]||null)};return Z(m,()=>{u.current&&(u.current.value="")}),e.jsxs(e.Fragment,{children:[s({onClick:C,...v}),e.jsx("input",{style:{display:"none"},type:"file",accept:r,multiple:c,onChange:f,ref:N(a,u),name:p,form:o,capture:g,...j})]})});T.displayName="@mantine/core/FileButton";const se=({value:t})=>e.jsx("div",{style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:Array.isArray(t)?t.map(a=>a.name).join(", "):t==null?void 0:t.name}),ne={valueComponent:se},b=$((t,a)=>{const n=w("FileInput",ne,t),{unstyled:s,vars:c,onChange:r,value:p,defaultValue:o,multiple:m,accept:x,name:g,form:j,valueComponent:v,clearable:u,clearButtonProps:C,readOnly:f,capture:A,fileInputProps:i,rightSection:V,size:P,placeholder:E,component:z,resetRef:D,classNames:F,styles:R,...k}=n,h=d.useRef(null),{resolvedClassNames:G,resolvedStyles:O}=Q({classNames:F,styles:R,props:n}),[l,S]=ee({value:p,defaultValue:o,onChange:r,finalValue:m?[]:null}),I=Array.isArray(l)?l.length!==0:l!==null,M=V||(u&&I&&!f?e.jsx(W,{...C,variant:"subtle",onClick:()=>S(m?[]:null),size:P,unstyled:s}):null);d.useEffect(()=>{var y;(Array.isArray(l)&&l.length===0||l===null)&&((y=h.current)==null||y.call(h))},[l]);const U=v;return e.jsx(T,{onChange:S,multiple:m,accept:x,name:g,form:j,resetRef:N(h,D),disabled:f,capture:A,inputProps:i,children:y=>e.jsx(B,{component:z||"button",ref:a,rightSection:M,...y,...k,__staticSelector:"FileInput",multiline:!0,type:"button",pointer:!0,__stylesApiProps:n,unstyled:s,size:P,classNames:F,styles:R,children:I?e.jsx(U,{value:l}):e.jsx(X.Placeholder,{__staticSelector:"FileInput",classNames:G,styles:O,children:E})})})});b.classes=B.classes;b.displayName="@mantine/core/FileInput";const re=b,me=q(function(){const{activities:a,updateActivity:n}=H(),[s,c]=d.useState(null),r=a.find(o=>o.status==="pending"),p=o=>{o.preventDefault(),!(!r||!s)&&(n(r.id,{proof:s,status:"concluded",statusDate:new Date}),c(null))};return r?e.jsxs(_,{size:"sm",py:"xl",children:[e.jsx(Y,{size:"lg",mb:"md",children:r.name}),e.jsxs("form",{onSubmit:p,children:[e.jsx(re,{label:"Anexar imagem da prova",placeholder:"Escolha uma imagem",value:s,onChange:c,mb:"md"}),e.jsx(J,{children:e.jsx(K,{type:"submit",disabled:!s,children:"Enviar Prova"})})]})]}):e.jsx(_,{size:"sm",py:"xl",children:e.jsx(L,{c:"dimmed",ta:"center",children:"Não há atividades pendentes no momento."})})});export{me as default};
